<div>
  <!-- <h2>ğŸ‘‹ Welcome {{ user.first_name }} {{ user.last_name }}</h2> -->

  <!-- <p><strong>ID:</strong> {{ user.id }}</p>
  <p><strong>First name:</strong> {{ user.first_name }}</p>
  <p><strong>Last name:</strong> {{ user.last_name }}</p>
  <p><strong>Username:</strong> {{ user.username || 'N/A' }}</p>
  <p><strong>Language:</strong> {{ user.language_code }}</p>
  <p><strong>Is Premium:</strong> {{ user.is_premium ? 'Yes' : 'No' }}</p>
  <p><strong>Allows PM:</strong> {{ user.allows_write_to_pm ? 'Yes' : 'No' }}</p> -->

  <!-- <pre style="background:#f4f4f4;padding:10px;border-radius:6px;">
  {{ user | json }}
  </pre>

  <p><strong>Phone Number:</strong> {{ phoneNumber }}</p> -->

  <div>
    <!-- <h2>ğŸ‘‹ Welcome {{ user.first_name }} {{ user.last_name }}</h2> -->
  
    <!-- <p><strong>ID:</strong> {{ user.id }}</p>
    <p><strong>First name:</strong> {{ user.first_name }}</p>
    <p><strong>Last name:</strong> {{ user.last_name }}</p>
    <p><strong>Username:</strong> {{ user.username || 'N/A' }}</p>
    <p><strong>Language:</strong> {{ user.language_code }}</p>
    <p><strong>Is Premium:</strong> {{ user.is_premium ? 'Yes' : 'No' }}</p>
    <p><strong>Allows PM:</strong> {{ user.allows_write_to_pm ? 'Yes' : 'No' }}</p> -->
  
    <!-- <pre style="background:#f4f4f4;padding:10px;border-radius:6px;">
    {{ tg | json }}
    </pre> -->
  
    <!-- <p><strong>Phone Number:</strong> {{ phoneNumber }}</p> -->
  
    <div class="container">
      <h1>ğŸ“± Telegram Mini App</h1>
      
      <!-- User Info -->
      <div class="user-info" *ngIf="userData">
        <h2>ğŸ‘¤ User Information</h2>
        <div class="info-grid">
          <div class="info-item">
            <strong>ID:</strong> {{ userData.id }}
          </div>
          <div class="info-item">
            <strong>Name:</strong> {{ userData.first_name }} {{ userData.last_name }}
          </div>
          <div class="info-item">
            <strong>Username:</strong> @{{ userData.username || 'N/A' }}
          </div>
        </div>
      </div>

      <!-- Phone Number Display -->
      <div class="phone-display" *ngIf="phoneNumber">
        <h2>ğŸ“ Phone Number Received!</h2>
        <div class="phone-box">
          <span class="phone-icon">ğŸ“±</span>
          <span class="phone-text">{{ phoneNumber }}</span>
        </div>
        <div class="contact-details" *ngIf="contactInfo">
          <p><strong>Name:</strong> {{ contactInfo.first_name }} {{ contactInfo.last_name }}</p>
          <p><strong>User ID:</strong> {{ contactInfo.user_id }}</p>
        </div>
        <p class="phone-timestamp">Received: {{ phoneTimestamp | date:'medium' }}</p>
      </div>

      <!-- Request Status -->
      <div class="status-box" *ngIf="requestStatus">
        <p [class.success]="requestStatus.type === 'success'" 
           [class.error]="requestStatus.type === 'error'">
          {{ requestStatus.message }}
        </p>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button (click)="requestPhone()" 
                class="btn btn-success" 
                [disabled]="isRequesting">
          <span *ngIf="!isRequesting">ğŸ“ Request Phone Number</span>
          <span *ngIf="isRequesting">â³ Requesting...</span>
        </button>
        
        <button (click)="requestPhoneDirect()" 
                class="btn btn-info" 
                [disabled]="isRequesting">
          ğŸ“ Request Phone (Direct API)
        </button>
        
        <button (click)="showStoredData()" class="btn btn-primary">
          ğŸ“¦ Show Stored Data
        </button>
        
        <button (click)="clearAllData()" class="btn btn-danger">
          ğŸ—‘ï¸ Clear All Data
        </button>
      </div>

      <!-- Storage Display -->
      <div class="storage-data" *ngIf="showStorage">
        <h3>ğŸ“¦ LocalStorage Data</h3>
        <pre>{{ storageData | json }}</pre>
      </div>
    </div>



  </div>
  
</div>